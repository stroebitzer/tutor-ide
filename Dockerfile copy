# TODO multistaged build
# FROM node:17.3.0-stretch-slim
# TODO use
FROM ubuntu:21.04

# fix versions
# RUN apt update && apt install -y nodejs npm 
ARG DEBIAN_FRONTEND=noninteractive
RUN apt-get update
RUN apt-get install -y nodejs npm 
RUN npm install -g npm@8.3.0
RUN npm install --global yarn

WORKDIR /app
COPY package.json .
RUN yarn
RUN yarn theia build

# CMD stuff
ENTRYPOINT [ "yarn", "start", "--hostname 0.0.0.0", "--port 8081" ]
